var Cards=function(){"use strict";var t=$(".view"),e=(t.innerWidth(),t.innerHeight(),t.offset(),$(".card__list")),o=$(".card__item"),n=$(".card__full"),i=n.find(".card__full-top"),s=i.find("svg"),a=i.find(".card__full-num"),c=i.find(".card__full-title"),r=n.find(".card__full-handle"),l=n.find(".card__full-info"),f=$(window),d=$("body, html"),v=$(".subsection-title"),p=function(){{var t=$(this),o=t.index(),i=t.offset();i.top-v.offset().top,t.css("border-top-color")}return m(o,t.data("name")),t.addClass("active-card"),d.animate({scrollTop:v.offset().top},500,function(){!n.hasClass("active")&&n.addClass("active"),e.is(":visible")&&e.hide()}),!1},u=function(){e.show(),n.removeClass("active"),[a,l,r].forEach(function(t){return t.hide()}),n.on("transitionend",function(){[a,l,r].forEach(function(t){return t.show()}),n.off("transitionend"),setTimeout(function(){var t=o.filter(".active-card");t.length&&(d.animate({scrollTop:t.offset().top},500),o.filter(".active-card").removeClass("active-card"))},100)})},m=function(t,e){var o=$('img[src*="'+e+'.jpg"]',".card__list").clone(),n=$('[data-name="'+e+'"]',".card__texts").clone();a.html("").append(o),l.html("").append(n),c.html("").append($("<h2>").text(e.replace(/_/g," "))).append($("<hr>")).append($("<h3>").text(o.attr("title")))},h=function(){var t=27;o.on("click",p),s.on("click",u),f.on("keydown",function(e){return e.keyCode===t&&n.hasClass("active")&&u()})},_=function(){h()};return{init:_}}();Cards.init(),function(){"use strict";function t(){i.classList.remove("open"),s.classList.remove("open"),n.classList.remove("open")}function e(){i.classList.toggle("open"),s.classList.toggle("open"),n.classList.toggle("open"),n.classList.add("opened")}var o=document.querySelector.bind(document),n=o("nav"),i=document.body,s=o(".app-bar"),a=o(".menu"),c=o("main");c.addEventListener("click",t),a.addEventListener("click",e),n.addEventListener("click",function(e){("A"===e.target.nodeName||"LI"===e.target.nodeName)&&t()})}(),$(function(){var t=$("body, html");$("a[href^=#]").on("click",function(e){e.preventDefault();var o=$(this).attr("href").replace("#",""),n=$("a[name="+o+"]");t.animate({scrollTop:n.offset().top})})}),$(function(){"use strict";$(".flexslider").flexslider({selector:".slides > div",directionNav:!1,controlNav:!1})});var Shapes=function(){var t=$(".section__nav",".team"),e=$(".section__nav-link",".team"),o=($(".section",".team"),$(".section__nav-link > svg",".team")),n=($("body, html"),function(t){return t.preventDefault(),e.removeClass("active"),o.removeAttr("style"),$(this).addClass("active"),!1}),i=function(){var o,n,i=$(".team"),s=i.offset().top,a=$(t).height(),c=s+i.innerHeight();if(c-=a,c>s){var r=$(window).scrollTop()+20;if(r>=c)o=c+1,n="absolute";else if(r>s){n="fixed",o=1;var l=$(".section").first();r<$("footer").offset().top&&r>l.next().offset().top&&(r>=l.last().offset().top&&e.removeClass("active").eq(2).addClass("active"),r>=a/2+l.last().offset().top&&e.eq(2).removeClass("active")),r>l.offset().top&&(r>=l.next().offset().top&&e.removeClass("active").eq(1).addClass("active"),r>=a/2+l.next().offset().top&&e.eq(1).removeClass("active")),r<l.next().offset().top&&(r>=l.offset().top&&e.removeClass("active").eq(0).addClass("active"),r>=a/2+l.offset().top&&e.eq(0).removeClass("active"));var f=$(".section:first").offset().top;console.log("section:first",f),console.log("winTop",r)}}n&&o?t.css({top:o-1,position:n}):t.removeAttr("style")},s=function(){e.on("click",n),$(window).on("scroll",i),$(".section").on("scroll",function(){console.log("section: "+$(this).find("a[name]").attr("name"),this)})},a=function(){s()};return{init:a}}();Shapes.init();